(this["webpackJsonpclover-dynamics"]=this["webpackJsonpclover-dynamics"]||[]).push([[0],{127:function(e,t,r){"use strict";r.r(t);var a,n,o,c,s=r(0),i=r.n(s),l=r(9),O=r.n(l),p=(r(97),r(98),r(22)),u=r(12),d=r.n(u),j=r(20);!function(e){e.LOADING="LOADING",e.LOADED="LOADED",e.ERROR="ERROR"}(a||(a={})),function(e){e.SET_LOADING="app/SET_LOADING",e.SET_ALERT="app/SET_ALERT",e.SET_CLOSE_ALERT="app/SET_CLOSE_ALERT",e.SET_ROVER_PHOTOS="rovers/SET_ROVER_PHOTOS",e.SET_PAGE_PHOTOS="rovers/SET_PAGE_PHOTOS",e.SET_SEARCH_PHOTOS="rovers/SET_SEARCH_PHOTOS",e.SET_QUERYING_SEARCH_PHOTOS="rovers/SET_QUERYING_SEARCH_PHOTOS"}(n||(n={})),function(e){e.Curiosity="curiosity",e.Spirit="spirit",e.Opportunity="opportunity"}(o||(o={})),function(e){e.FHAZ="fhaz",e.RHAZ="rhaz",e.MAST="mast",e.CHERCAM="chercam",e.MAHLI="mahli",e.MARDI="mardi",e.NAVCAM="navcam",e.PANCAM="pancam",e.MINITES="minites"}(c||(c={}));var h=r(70),b="Zd94Z85x0leoVo5TRLGzd4EaDF8NRNhVtmZL4YPC",m=r.n(h).a.create({baseURL:"https://api.nasa.gov/mars-photos/api/v1/rovers/"}),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"curiosity",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fhaz",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return m.get("".concat(e,"/photos?sol=").concat(t,"&page=").concat(a,"&camera=").concat(r,"&API_KEY=").concat(b)).then((function(e){return e.data}))},v=function(e){return{type:n.SET_ALERT,payload:e}},y=function(){return{type:n.SET_CLOSE_ALERT}},x=function(e){return{type:n.SET_LOADING,payload:e}},S=function(e){return{type:n.SET_ROVER_PHOTOS,payload:e}},f=function(e){return{type:n.SET_SEARCH_PHOTOS,payload:e}},g=function(e){return{type:n.SET_QUERYING_SEARCH_PHOTOS,payload:e}},_=function(){return{type:n.SET_PAGE_PHOTOS}},T=r(187),A=r(19),R=r(75),L=r.n(R),D=r(170),P=r(173),C=r(175),N=r(5),H=Object(D.a)((function(e){return{root:{marginBottom:e.spacing(4)},title:{backgroundColor:L.a[300],minHeight:"100px",display:"flex",alignItems:"center",justifyContent:"center"},margin:{margin:e.spacing(1),marginRight:40},text:Object(A.a)({},e.breakpoints.down("sm"),{fontSize:40}),rootProgress:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),I=i.a.memo((function(e){var t=e.loading,r=H();return Object(N.jsxs)("div",{className:r.root,children:[Object(N.jsx)("div",{className:r.title,children:Object(N.jsx)(P.a,{variant:"h2",className:r.text,children:"Mars Rover Photos"})}),t&&Object(N.jsx)("div",{className:r.rootProgress,children:Object(N.jsx)(C.a,{})})]})})),k=r(189),w=r(191),G=function(e){var t=e.onCloseAlert,r=e.typeAlert,a=e.isOpenAlert,n=e.children;return Object(N.jsx)("div",{children:Object(N.jsx)(w.a,{open:a,onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(N.jsx)(k.a,{variant:"filled",severity:r,onClose:t,children:n})})})},V=r(57),M=r(78),B=r(51),q=r(179),z=r(195),Y=r(188),F=r(176),U=r(180),Z=r(194),Q=r(193),W=function(){var e=Object(p.b)(),t=Object(B.b)(),r=t.control,n=t.handleSubmit;return Object(N.jsx)(F.a,{container:!0,justify:"center",children:Object(N.jsx)("form",{onSubmit:n((function(t){var r=t.camera,n=t.rovers,o=t.sol;e(function(e,t,r){return function(){var n=Object(j.a)(d.a.mark((function n(o,c){var s,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,o(x(a.LOADING)),s=c().roversPhotos.queryingBySol,r===s.camera&&e===s.rovers&&t===s.sol){n.next=11;break}return n.next=6,E(e,t,r,1);case 6:i=n.sent,o(g({rovers:e,sol:t,camera:r,page:1})),0!==i.photos.length?(o(f(i.photos)),o(x(a.LOADED)),o(v({message:"Ok, photos on page",type:"success"}))):(o(x(a.LOADED)),o(v({message:"Not found photo. Enter another values",type:"error"}))),n.next=13;break;case 11:o(x(a.LOADED)),o(v({message:"You find this. Enter other values",type:"warning"}));case 13:n.next=20;break;case 15:n.prev=15,n.t0=n.catch(0),console.log(n.t0),o(x(a.LOADED)),o(v({message:"Error on server",type:"error"}));case 20:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,t){return n.apply(this,arguments)}}()}(n.toLowerCase(),o,r.toLowerCase()))})),children:Object(N.jsxs)(F.a,{container:!0,spacing:3,children:[Object(N.jsx)(F.a,{item:!0,xs:12,md:4,children:Object(N.jsx)(J,{id:"rovers-select",name:"rovers",label:"Choose rovers",control:r,children:Object.keys(o).map((function(e,t){return Object(N.jsx)(Z.a,{value:e,children:e},t)}))})}),Object(N.jsx)(F.a,{item:!0,xs:12,md:4,children:Object(N.jsx)(J,{id:"camera-select",name:"camera",label:"Choose camera",control:r,children:Object.keys(c).map((function(e,t){return Object(N.jsx)(Z.a,{value:e,children:e},t)}))})}),Object(N.jsx)(F.a,{item:!0,xs:12,md:4,children:Object(N.jsx)(B.a,{as:Q.a,name:"sol",control:r,defaultValue:"",label:"Sol",required:!0,type:"number"})}),Object(N.jsx)(F.a,{item:!0,xs:12,children:Object(N.jsx)(U.a,{type:"submit",variant:"contained",color:"primary",children:"Send"})})]})})})},J=function(e){var t=e.name,r=e.label,a=e.control,n=e.defaultValue,o=void 0===n?"":n,c=e.children,s=Object(M.a)(e,["name","label","control","defaultValue","children"]),i="".concat(t,"-label");return Object(N.jsxs)(q.a,Object(V.a)(Object(V.a)({style:{minWidth:170}},s),{},{children:[Object(N.jsx)(z.a,{id:i,children:r}),Object(N.jsx)(B.a,{as:Object(N.jsx)(Y.a,{labelId:i,label:r,children:c}),name:t,control:a,defaultValue:o,variant:"outlined",required:!0})]}))},X=r(181),K=r(182),$=r(186),ee=r(184),te=r(183),re=r(185),ae=Object(D.a)({root:{maxWidth:460},wrapper:{marginTop:20},media:{height:180}}),ne=function(){var e=ae(),t=Object(p.b)(),r=Object(p.c)((function(e){return e.roversPhotos.photos}));return Object(N.jsxs)(F.a,{container:!0,justify:"center",spacing:3,className:e.wrapper,children:[r.map((function(t,r){return Object(N.jsx)(F.a,{item:!0,xs:12,md:4,sm:6,className:e.root,children:Object(N.jsxs)(X.a,{children:[Object(N.jsxs)(K.a,{children:[Object(N.jsx)(te.a,{className:e.media,image:t.img_src,title:"Image Mars"}),Object(N.jsxs)(ee.a,{children:[Object(N.jsx)(P.a,{variant:"h5",color:"textPrimary",children:"Rover name:"}),Object(N.jsx)(P.a,{variant:"h6",component:"h2",color:"textSecondary",children:t.rover.name}),Object(N.jsx)(re.a,{}),Object(N.jsx)(P.a,{variant:"body1",color:"textPrimary",children:"Camera name:"}),Object(N.jsx)(P.a,{variant:"body2",color:"textSecondary",component:"p",children:t.camera.full_name}),Object(N.jsxs)(P.a,{variant:"body1",color:"textPrimary",children:["Sol:"," ",Object(N.jsx)(P.a,{variant:"body2",color:"textSecondary",component:"span",children:t.sol})]})]})]}),Object(N.jsx)($.a,{children:Object(N.jsx)(U.a,{size:"small",color:"primary",href:t.img_src,target:"_blank",children:"open photo"})})]})},r)})),r.length>0&&Object(N.jsx)(F.a,{item:!0,xs:12,children:Object(N.jsx)(U.a,{onClick:function(){t(function(){var e=Object(j.a)(d.a.mark((function e(t,r){var n,o,c,s,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(x(a.LOADING)),t(_()),n=r().roversPhotos.queryingBySol,o=n.camera,c=n.sol,s=n.page,i=n.rovers,e.next=6,E(i,c,o,s);case 6:0!==(l=e.sent).photos.length?(t(S(l.photos)),t(x(a.LOADED)),t(v({message:"Ok photo on page",type:"info"}))):(t(x(a.LOADED)),t(v({message:"Not found photo",type:"error"}))),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(x(a.LOADED)),t(v({message:"Error on server",type:"error"}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}())},variant:"contained",color:"primary",children:"Load more..."})})]})};var oe=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.appReducer.alert})),r=t.open,n=t.message,o=t.type,c=Object(p.c)((function(e){return e.appReducer.loading===a.LOADING}));return Object(s.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t,r){var n,o,c,s,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(x(a.LOADING)),n=r().roversPhotos.queryingBySol,o=n.camera,c=n.sol,s=n.page,i=n.rovers,e.next=5,E(i,c,o,s);case 5:l=e.sent,t(S(l.photos)),t(x(a.LOADED)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(x(a.ERROR)),t(v({message:"Error on server",type:"error"}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}())}),[]),Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(I,{loading:c}),r?Object(N.jsx)(G,{isOpenAlert:r,typeAlert:o,onCloseAlert:function(){e(y())},children:n}):null,Object(N.jsxs)(T.a,{maxWidth:"md",children:[Object(N.jsx)(W,{}),Object(N.jsx)(ne,{})]})]})},ce=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,196)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),o(e),c(e)}))},se=r(26),ie=r(76),le=r(50),Oe={alert:{open:!1,type:void 0,message:""},loading:a.LOADED},pe=Object(le.a)((function(e,t){switch(t.type){case n.SET_ALERT:e.alert.open=!0,e.alert.message=t.payload.message,e.alert.type=t.payload.type;break;case n.SET_CLOSE_ALERT:e.alert.open=!1,e.alert.message="";break;case n.SET_LOADING:e.loading=t.payload}}),Oe),ue=r(15),de=Object(le.a)((function(e,t){var r;switch(t.type){case n.SET_ROVER_PHOTOS:(r=e.photos).push.apply(r,Object(ue.a)(t.payload));break;case n.SET_SEARCH_PHOTOS:e.photos=t.payload;break;case n.SET_QUERYING_SEARCH_PHOTOS:e.queryingBySol=t.payload;break;case n.SET_PAGE_PHOTOS:e.queryingBySol.page++}}),{photos:[],queryingBySol:{camera:"fhaz",sol:100,rovers:"curiosity",page:1}}),je=Object(se.c)({roversPhotos:de,appReducer:pe}),he=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||se.d,be=Object(se.e)(je,he(Object(se.a)(ie.a)));O.a.render(Object(N.jsx)(p.a,{store:be,children:Object(N.jsx)(oe,{})}),document.getElementById("root")),ce()},97:function(e,t,r){},98:function(e,t,r){}},[[127,1,2]]]);
//# sourceMappingURL=main.0c0df807.chunk.js.map